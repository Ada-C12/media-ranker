<main>
  <h2> Entirety of Works</h2>

  <section class="media-table">
    <h4> Albums </h4>
    <table class="table">
      <thead>
        <tr>
          <th width="80">Votes</th>
          <th> Title </th>
          <th> Created By </th>
          <th width="100"> Published </th>
          <th width="100"> Upvote </th>
        </tr>
      </thead>

      <tbody>
        <% albums = @works.where(category: "album")%>
        <% albums.each do |work| %> 
            <tr>
              <td> <%= work.votes.count %> </td>
              <td> <%= link_to work.title, work_path(work) %> </td>
              <td> <%= work.creator %> </td>
              <td> <%= work.publication_year %> </td>
              <td> <%= link_to "Upvote", upvote_path(work), method: :post, class: "btn btn-primary" %> </td>
            </tr>  
        <% end %> 
      </tbody>
    
    </table>
  </section>

  <section class="media-table">
    <h4> Books </h4>
    <table class="table">
      <thead>
        <tr>
          <th width="80">Votes</th>
          <th> Title </th>
          <th> Created By </th>
          <th width="100"> Published </th>
          <th width="100"> Upvote </th>
        </tr>
      </thead>

      <tbody>
        <% books = @works.where(category: "book")%>
        <% books.each do |work| %> 
            <tr>
              <td> <%= work.votes.count %> </td>
              <td> <%= link_to work.title, work_path(work) %> </td>
              <td> <%= work.creator %> </td>
              <td> <%= work.publication_year %> </td>
              <td> <%= link_to "Upvote", upvote_path(work), method: :post, class: "btn btn-primary" %> </td>
            </tr>  
        <% end %> 
      </tbody>
    
    </table>
  </section>

  <section class="media-table">
    <h4> Movies </h4>
    <table class="table">
      <thead>
        <tr>
          <th width="80">Votes</th>
          <th> Title </th>
          <th> Created By </th>
          <th width="100"> Published </th>
          <th width="100"> Upvote </th>
        </tr>
      </thead>

      <tbody>
        <% movies = @works.where(category: "movie")%>
        <% movies.each do |work| %> 
            <tr>
              <td> <%= work.votes.count %> </td>
              <td> <%= link_to work.title, work_path(work) %> </td>
              <td> <%= work.creator %> </td>
              <td> <%= work.publication_year %> </td>
              <td> <%= link_to "Upvote", upvote_path(work), method: :post, class: "btn btn-primary" %> </td>
            </tr>  
        <% end %> 
      </tbody>
    
    </table>
  </section>
  
</main>