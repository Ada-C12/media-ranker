<!DOCTYPE html>
<html>
  <head>
  <link href="https://fonts.googleapis.com/css?family=Gudea:400,700|Hammersmith+One&display=swap" rel="stylesheet">
    <title>MediaRanker</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link rel="icon" href="data:image/jpeg;base64,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">
  </head>

  <body>
    <header class="app-header__header">
      <h1>
        <%= link_to "Media Ranker", root_path%>
        <small>Ranking the Best of Everything</small>
      </h1>
    <nav class="app-header__nav">
      <ul class="nav app-header__site-nav-container">
        <li class="nav-item app-header__nav_item">
          <%=link_to "View top media", root_path%>
        </li>
        <li class="nav-item app-header__nav_item">
          <%=link_to "View all media", works_path%>
        </li>
        <li class="nav-item app-header__nav_item">
          <%=link_to "Add new media", new_work_path%>
        </li>
        <li class="nav-item app-header__nav_item">
          <%=link_to "View all users", users_path%>
        </li>
      </ul>
      <ul class="nav app-header__user-nav-container">
      <%if session[:user_id]%>
        <% user = User.find_by(id: session[:user_id]) %>
        <li class="nav-item app-header__nav_item">
          <%=link_to "Logged in as #{user.name}", user_path(user.id), class: "btn btn-primary"%>
        </li>
        <li class="nav-item app-header__nav_item">
          <%=link_to "Logout", logout_path, method: :post, class: "btn btn-primary"%>
        </li>
      <%else%>
        <li class="nav-item app-header__nav_item">
          <%=link_to "Login", login_path, class: "btn btn-primary"%>
        </li>
      <%end%>
      </ul>
    </nav>
  </header>

  <section class="alert alert-container">
  <%if flash[:success]%>
    <div class="alert alert-success">
  <%elsif flash[:error]%>
  <div class="alert alert-warning">
  <%end%>
    <% flash.each do |name, message| %>
      <span><%=message%></span>
    <% end %>

  <%if @vote%>
    <%var = @vote%> 
  <%elsif @user%>
    <%var = @user%>
  <%elsif @work%>
    <%var = @work%>

    <% if var.errors.any? %>
      <ul class="errors">
        <% var.errors.each do |column, message| %>
          <li>
            <strong><%= column.capitalize %></strong> <%= message %>
          </li>
        <% end %>
      </ul>
    <% end %>
  <%end%>
  </div>
  </section>

    <%= yield %>
  </body>
</html>
